{
  "version": 3,
  "sources": ["src/app/core/services/user.service.ts", "src/app/features/admin/pages/user-management-page.component.ts", "src/app/features/admin/pages/user-management-page.component.html", "src/app/features/admin/admin-routing.module.ts", "src/app/features/admin/admin.module.ts"],
  "sourcesContent": ["import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport { User, UserRole } from '../../models/user.model';\n\n@Injectable({ providedIn: 'root' })\nexport class UserService {\n  constructor(private http: HttpClient) {}\n\n  listUsers(): Observable<{ users: User[] }> {\n    return this.http.get<{ users: User[] }>(`${environment.apiUrl}/users`);\n  }\n\n  updateRole(id: string, role: UserRole): Observable<{ user: User; message: string }> {\n    return this.http.put<{ user: User; message: string }>(`${environment.apiUrl}/users/${id}/role`, { role });\n  }\n\n  deleteUser(id: string): Observable<{ message: string }> {\n    return this.http.delete<{ message: string }>(`${environment.apiUrl}/users/${id}`);\n  }\n}\n", "import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { User, UserRole } from '../../../models/user.model';\nimport { UserService } from '../../../core/services/user.service';\n\n@Component({\n  selector: 'app-user-management-page',\n  templateUrl: './user-management-page.component.html',\n})\nexport class UserManagementPageComponent implements OnInit {\n  users: User[] = [];\n  loading = false;\n\n  readonly roles: UserRole[] = ['admin', 'editor', 'viewer'];\n\n  constructor(private userService: UserService, private toastr: ToastrService) {}\n\n  ngOnInit(): void {\n    this.fetch();\n  }\n\n  fetch(): void {\n    this.loading = true;\n    this.userService.listUsers().subscribe({\n      next: (res) => {\n        this.users = res.users;\n        this.loading = false;\n      },\n      error: () => {\n        this.loading = false;\n      },\n    });\n  }\n\n  updateRole(user: User, role: string): void {\n    this.userService.updateRole(user._id, role as UserRole).subscribe({\n      next: (res) => {\n        user.role = res.user.role;\n        this.toastr.success('Role updated');\n      },\n    });\n  }\n\n  deleteUser(user: User): void {\n    if (!confirm(`Delete user ${user.email}?`)) return;\n\n    this.userService.deleteUser(user._id).subscribe({\n      next: () => {\n        this.users = this.users.filter((u) => u._id !== user._id);\n        this.toastr.success('User deleted');\n      },\n    });\n  }\n}\n", "<div class=\"card card-soft\">\n  <div class=\"card-body p-4\">\n    <h4>User Management</h4>\n\n    <div *ngIf=\"loading\" class=\"text-muted\">Loading users...</div>\n\n    <div class=\"table-responsive\" *ngIf=\"!loading && users.length\">\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Role</th>\n            <th>Created</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let user of users\">\n            <td>{{ user.name }}</td>\n            <td>{{ user.email }}</td>\n            <td>\n              <select class=\"form-select form-select-sm\" [ngModel]=\"user.role\" (ngModelChange)=\"updateRole(user, $event)\">\n                <option *ngFor=\"let role of roles\" [value]=\"role\">{{ role }}</option>\n              </select>\n            </td>\n            <td>{{ user.createdAt | date: 'mediumDate' }}</td>\n            <td>\n              <button class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteUser(user)\">Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div *ngIf=\"!loading && !users.length\" class=\"text-muted\">No users found.</div>\n  </div>\n</div>\n", "import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { UserManagementPageComponent } from './pages/user-management-page.component';\n\nconst routes: Routes = [{ path: 'users', component: UserManagementPageComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AdminRoutingModule {}\n", "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { UserManagementPageComponent } from './pages/user-management-page.component';\n\n@NgModule({\n  declarations: [UserManagementPageComponent],\n  imports: [CommonModule, FormsModule, AdminRoutingModule],\n})\nexport class AdminModule {}\n"],
  "mappings": "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",
  "names": []
}
